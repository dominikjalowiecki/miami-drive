<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/x-icon" href="./assets/images/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="./assets/styles/styles.css" />
    <link
      rel="prefetch"
      href="./assets/skyboxes/AllSkyFree_Sky_EpicGloriousPink_Equirect.png"
    />
    <link
      rel="prefetch"
      href="./assets/objects/low_poly_nissan_skyline_gtr_r-34/scene.gltf"
    />
    <link
      rel="prefetch"
      href="./assets/objects/low_poly_nissan_skyline_gtr_r-34/scene.bin"
    />
    <link rel="prefetch" href="./assets/objects/wolf_gsx/scene.glb" />
    <link rel="prefetch" href="./assets/objects/ferrari_enzo/scene.gltf" />
    <link rel="prefetch" href="./assets/objects/ferrari_enzo/scene.bin" />
    <link rel="prefetch" href="./assets/objects/terrain.glb" />
    <title>Miami Drive</title>
  </head>
  <body>
    <div id="menu" style="display: flex">
      <h1 class="menu-title">Miami Drive</h1>
      <div id="menu-main" class="menu-item" style="display: flex">
        <ul class="menu-list">
          <li>
            <button class="menu-btn" data-destination="start-game">
              Start game<span
                class="game-loading-spinner"
                style="display: none"
              ></span>
            </button>
          </li>
          <li>
            <button class="menu-btn" data-destination="menu-about">
              About
            </button>
          </li>
          <li>
            <button class="menu-btn" data-destination="menu-options">
              Options
            </button>
          </li>
        </ul>
      </div>
      <div id="menu-about" class="menu-item" style="display: none">
        <ul class="about-text">
          <li>Left/Right - Move, G - Horn, Esc - Main menu</li>
          <li>
            Control by using the arrows on the keyboard, or by clicking on the
            left or right half of the screen
          </li>
          <li>
            Avoid moving vehicles on the highway and earn points for the
            distance travelled
          </li>
          <li>
            The vehicle accelerates with time, so you must show your skills
          </li>
          <li>
            Improve your best score to unlock new cars with better handling and
            acceleration
          </li>
        </ul>
        <ul class="menu-list">
          <li>
            <button class="menu-btn" data-destination="menu-main">
              Return to main menu
            </button>
          </li>
        </ul>
      </div>
      <div id="menu-options" class="menu-item" style="display: none">
        <label id="car-select-label" for="car-select">Choose a car:</label>
        <select id="car-select">
          <option value="volkswagen-golf-gti">Volkswagen Golf GTI</option>
          <option
            value="nissan-skyline-gtr-r-34"
            id="nissan-skyline-gtr-r-34"
            disabled
          >
            30 score to unlock
          </option>
          <option value="ferrari-enzo" id="ferrari-enzo" disabled>
            50 score to unlock
          </option>
        </select>

        <ul class="menu-list">
          <li>
            <button class="menu-btn" data-destination="menu-main">
              Return to main menu
            </button>
          </li>
        </ul>
      </div>
      <div id="menu-result" class="menu-item" style="display: none">
        <p class="final-score">
          Final score: <span id="final-score-text">0</span>
        </p>
        <p class="best-score">
          Best score: <span id="best-score-text">0</span>
        </p>
        <ul class="menu-list">
          <li>
            <button class="menu-btn" data-destination="start-game">
              Start game<span
                class="game-loading-spinner"
                style="display: none"
              ></span>
            </button>
          </li>
          <li>
            <button class="menu-btn" data-destination="menu-main">
              Return to main menu
            </button>
          </li>
        </ul>
      </div>
      <a
        href="https://github.com/dominikjalowiecki/miami-drive"
        class="menu-footer"
        target="_blank"
      >
        Dominik Ja≈Çowiecki & Jakub Fudali &copy; 2024
      </a>
    </div>
    <div id="control-widget" class="widget">
      <ul>
        <li class="score">Score: <span id="score-text">0</span></li>
        <li><button id="main-menu-btn">Main menu</button></li>
      </ul>
    </div>
    <div id="volume-widget" class="widget">
      <label for="volume-control">Volume</label>
      <input
        type="range"
        id="volume-control"
        min="0"
        max="1"
        value="0.5"
        step="0.1"
      />
    </div>
    <div id="mobile-control">
      <div id="left-direction" class="direction"></div>
      <div id="right-direction" class="direction"></div>
    </div>
    <div id="game"></div>
    <script src="./assets/scripts/three.min.js"></script>
    <script src="./assets/scripts/GLTF2Loader.js"></script>
    <script type="module" src="./assets/scripts/main.mjs"></script>
  </body>
</html>
